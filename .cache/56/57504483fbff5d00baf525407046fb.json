{"id":"w95b","dependencies":[{"name":"C:\\Users\\user\\Desktop\\map\\package.json","includedInParent":true,"mtime":1603268322778},{"name":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1603264992750},{"name":"../Disposable.js","loc":{"line":17,"column":23},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\Disposable.js"},{"name":"../events/Event.js","loc":{"line":18,"column":18},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\events\\Event.js"},{"name":"../events/EventType.js","loc":{"line":19,"column":22},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\events\\EventType.js"},{"name":"../ImageCanvas.js","loc":{"line":20,"column":24},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\ImageCanvas.js"},{"name":"../layer/Image.js","loc":{"line":21,"column":23},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\layer\\Image.js"},{"name":"./Image.js","loc":{"line":22,"column":24},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Image.js"},{"name":"./Source.js","loc":{"line":23,"column":19},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Source.js"},{"name":"./State.js","loc":{"line":24,"column":24},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\State.js"},{"name":"../layer/Tile.js","loc":{"line":25,"column":22},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\layer\\Tile.js"},{"name":"../TileQueue.js","loc":{"line":26,"column":22},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\TileQueue.js"},{"name":"./Tile.js","loc":{"line":27,"column":23},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Tile.js"},{"name":"../obj.js","loc":{"line":28,"column":23},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\obj.js"},{"name":"../dom.js","loc":{"line":29,"column":38},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\dom.js"},{"name":"../transform.js","loc":{"line":30,"column":42},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\transform.js"},{"name":"../extent.js","loc":{"line":31,"column":55},"parent":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\source\\Raster.js","resolved":"C:\\Users\\user\\Desktop\\map\\node_modules\\ol\\extent.js"}],"generated":{"js":"var $w95b$exports={};$parcel$require(\"w95b\",\"../Disposable.js\"),$parcel$require(\"w95b\",\"../events/Event.js\"),$parcel$require(\"w95b\",\"../events/EventType.js\"),$parcel$require(\"w95b\",\"../ImageCanvas.js\"),$parcel$require(\"w95b\",\"../layer/Image.js\"),$parcel$require(\"w95b\",\"./Image.js\"),$parcel$require(\"w95b\",\"./Source.js\"),$parcel$require(\"w95b\",\"./State.js\"),$parcel$require(\"w95b\",\"../layer/Tile.js\"),$parcel$require(\"w95b\",\"../TileQueue.js\"),$parcel$require(\"w95b\",\"./Tile.js\"),$parcel$require(\"w95b\",\"../obj.js\"),$parcel$require(\"w95b\",\"../dom.js\"),$parcel$require(\"w95b\",\"../transform.js\"),$parcel$require(\"w95b\",\"../extent.js\");var $w95b$var$__extends=$w95b$exports&&$w95b$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$w95b$var$hasImageData=!0;try{new ImageData(10,10)}catch(_){$w95b$var$hasImageData=!1}var $w95b$var$context=document.createElement(\"canvas\").getContext(\"2d\");function $w95b$export$newImageData(e,t,r){if($w95b$var$hasImageData)return new ImageData(e,t,r);var a=$w95b$var$context.createImageData(t,r);return a.data.set(e),a}function $w95b$var$createMinion(e){var t=!0;try{new ImageData(10,10)}catch(_){t=!1}function r(e,r,a){return t?new ImageData(e,r,a):{data:e,width:r,height:a}}return function(t){var a,n,o=t.buffers,i=t.meta,s=t.imageOps,$=t.width,u=t.height,p=o.length,c=o[0].byteLength;if(s){var h=new Array(p);for(n=0;n<p;++n)h[n]=r(new Uint8ClampedArray(o[n]),$,u);a=e(h,i).data}else{a=new Uint8ClampedArray(c);var l=new Array(p),w=new Array(p);for(n=0;n<p;++n)l[n]=new Uint8ClampedArray(o[n]),w[n]=[0,0,0,0];for(var v=0;v<c;v+=4){for(var d=0;d<p;++d){var b=l[d];w[d][0]=b[v],w[d][1]=b[v+1],w[d][2]=b[v+2],w[d][3]=b[v+3]}var m=e(w,i);a[v]=m[0],a[v+1]=m[1],a[v+2]=m[2],a[v+3]=m[3]}}return a.buffer}}function $w95b$var$createWorker(e,t){var r=Object.keys(e.lib||{}).map(function(t){return\"var \"+t+\" = \"+e.lib[t].toString()+\";\"}).concat([\"var __minion__ = (\"+$w95b$var$createMinion.toString()+\")(\",e.operation.toString(),\");\",'self.addEventListener(\"message\", function(event) {',\"  var buffer = __minion__(event.data);\",\"  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);\",\"});\"]),a=new Blob(r,{type:\"text/javascript\"}),n=URL.createObjectURL(a),o=new Worker(n);return o.addEventListener(\"message\",t),o}function $w95b$var$createFauxWorker(e,t){var r=$w95b$var$createMinion(e.operation),a=!1;return{postMessage:function(e){setTimeout(function(){a||t({data:{buffer:r(e),meta:e.meta}})},0)},terminate:function(){a=!0}}}$w95b$exports.newImageData=$w95b$export$newImageData;var $w95b$export$Processor=function(e){function t(t){var r,a=e.call(this)||this;a._imageOps=!!t.imageOps;var n=[];if(r=0===t.threads?0:a._imageOps?1:t.threads||1)for(var o=0;o<r;++o)n[o]=$w95b$var$createWorker(t,a._onWorkerMessage.bind(a,o));else n[0]=$w95b$var$createFauxWorker(t,a._onWorkerMessage.bind(a,0));return a._workers=n,a._queue=[],a._maxQueueLength=t.queue||1/0,a._running=0,a._dataLookup={},a._job=null,a}return $w95b$var$__extends(t,e),t.prototype.process=function(e,t,r){this._enqueue({inputs:e,meta:t,callback:r}),this._dispatch()},t.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},t.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var e=this._queue.shift();this._job=e;var t=e.inputs[0].width,r=e.inputs[0].height,a=e.inputs.map(function(e){return e.data.buffer}),n=this._workers.length;if(this._running=n,1===n)this._workers[0].postMessage({buffers:a,meta:e.meta,imageOps:this._imageOps,width:t,height:r},a);else for(var o=e.inputs[0].data.length,i=4*Math.ceil(o/4/n),s=0;s<n;++s){for(var $=s*i,u=[],p=0,c=a.length;p<c;++p)u.push(a[s].slice($,$+i));this._workers[s].postMessage({buffers:u,meta:e.meta,imageOps:this._imageOps,width:t,height:r},u)}}},t.prototype._onWorkerMessage=function(e,t){this.disposed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())},t.prototype._resolveJob=function(){var e,t,r=this._job,a=this._workers.length;if(1===a)e=new Uint8ClampedArray(this._dataLookup[0].buffer),t=this._dataLookup[0].meta;else{var n=r.inputs[0].data.length;e=new Uint8ClampedArray(n),t=new Array(n);for(var o=4*Math.ceil(n/4/a),i=0;i<a;++i){var s=this._dataLookup[i].buffer,$=i*o;e.set(new Uint8ClampedArray(s),$),t[i]=this._dataLookup[i].meta}}this._job=null,this._dataLookup={},r.callback(null,$w95b$export$newImageData(e,r.inputs[0].width,r.inputs[0].height),t),this._dispatch()},t.prototype.disposeInternal=function(){for(var e=0;e<this._workers.length;++e)this._workers[e].terminate();this._workers.length=0},t}($w95b$import$Disposable);$w95b$exports.Processor=$w95b$export$Processor;var $w95b$var$RasterEventType={BEFOREOPERATIONS:\"beforeoperations\",AFTEROPERATIONS:\"afteroperations\"},$w95b$var$RasterOperationType={PIXEL:\"pixel\",IMAGE:\"image\"},$w95b$export$RasterSourceEvent=function(e){function t(t,r,a){var n=e.call(this,t)||this;return n.extent=r.extent,n.resolution=r.viewState.resolution/r.pixelRatio,n.data=a,n}return $w95b$var$__extends(t,e),t}($w95b$import$Event);$w95b$exports.RasterSourceEvent=$w95b$export$RasterSourceEvent;var $w95b$export$default=function(e){function t(t){var r=e.call(this,{projection:null})||this;r.processor_=null,r.operationType_=void 0!==t.operationType?t.operationType:$w95b$var$RasterOperationType.PIXEL,r.threads_=void 0!==t.threads?t.threads:1,r.layers_=$w95b$var$createLayers(t.sources);for(var a=r.changed.bind(r),n=0,o=r.layers_.length;n<o;++n)r.layers_[n].addEventListener($w95b$import$EventType.CHANGE,a);return r.tileQueue_=new $w95b$import$TileQueue(function(){return 1},r.changed.bind(r)),r.requestedFrameState_,r.renderedImageCanvas_=null,r.renderedRevision_,r.frameState_={animate:!1,coordinateToPixelTransform:$w95b$import$createTransform(),extent:null,index:0,layerIndex:0,layerStatesArray:$w95b$var$getLayerStatesArray(r.layers_),pixelRatio:1,pixelToCoordinateTransform:$w95b$import$createTransform(),postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},declutterItems:[]},r.setAttributions(function(e){for(var r=[],a=0,n=t.sources.length;a<n;++a){var o=t.sources[a],i=(o instanceof $w95b$import$Source?o:o.getSource()).getAttributions();if(\"function\"==typeof i){var s=i(e);r.push.apply(r,s)}}return 0!==r.length?r:null}),void 0!==t.operation&&r.setOperation(t.operation,t.lib),r}return $w95b$var$__extends(t,e),t.prototype.setOperation=function(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new $w95b$export$Processor({operation:e,imageOps:this.operationType_===$w95b$var$RasterOperationType.IMAGE,queue:1,lib:t,threads:this.threads_}),this.changed()},t.prototype.updateFrameState_=function(e,t,r){var a=$w95b$import$assign({},this.frameState_);a.viewState=$w95b$import$assign({},a.viewState);var n=$w95b$import$getCenter(e);a.extent=e.slice(),a.size[0]=Math.round($w95b$import$getWidth(e)/t),a.size[1]=Math.round($w95b$import$getHeight(e)/t),a.time=1/0;var o=a.viewState;return o.center=n,o.projection=r,o.resolution=t,a},t.prototype.allSourcesReady_=function(){for(var e=!0,t=0,r=this.layers_.length;t<r;++t)if(this.layers_[t].getSource().getState()!==$w95b$import$SourceState.READY){e=!1;break}return e},t.prototype.getImage=function(e,t,r,a){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(e,t,a);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),i=this.renderedImageCanvas_.getExtent();t===o&&$w95b$import$equals(e,i)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},t.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.layers_.length,r=new Array(t),a=0;a<t;++a){e.layerIndex=a;var n=$w95b$var$getImageData(this.layers_[a],e);if(!n)return;r[a]=n}var o={};this.dispatchEvent(new $w95b$export$RasterSourceEvent($w95b$var$RasterEventType.BEFOREOPERATIONS,e,o)),this.processor_.process(r,o,this.onWorkerComplete_.bind(this,e))},t.prototype.onWorkerComplete_=function(e,t,r,a){if(!t&&r){var n=e.extent,o=e.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&$w95b$import$equals(n,this.requestedFrameState_.extent)){var i;if(this.renderedImageCanvas_)i=this.renderedImageCanvas_.getImage().getContext(\"2d\");else{var s=Math.round($w95b$import$getWidth(n)/o),$=Math.round($w95b$import$getHeight(n)/o);i=$w95b$import$createCanvasContext2D(s,$),this.renderedImageCanvas_=new $w95b$import$ImageCanvas(n,o,1,i.canvas)}i.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new $w95b$export$RasterSourceEvent($w95b$var$RasterEventType.AFTEROPERATIONS,e,a))}}},t.prototype.getImageInternal=function(){return null},t.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose(),e.prototype.disposeInternal.call(this)},t}($w95b$import$ImageSource);$w95b$export$default.prototype.dispose;var $w95b$var$sharedContext=null;function $w95b$var$getImageData(e,t){var r=e.getRenderer();if(!r)throw new Error(\"Unsupported layer type: \"+e);if(!r.prepareFrame(t))return null;var a,n=t.size[0],o=t.size[1],i=r.renderFrame(t,null);if(i&&(a=i.firstElementChild),!(a instanceof HTMLCanvasElement))throw new Error(\"Unsupported rendered element: \"+a);if(a.width===n&&a.height===o)return a.getContext(\"2d\").getImageData(0,0,n,o);if($w95b$var$sharedContext){var s=$w95b$var$sharedContext.canvas;s.width!==n||s.height!==o?$w95b$var$sharedContext=$w95b$import$createCanvasContext2D(n,o):$w95b$var$sharedContext.clearRect(0,0,n,o)}else $w95b$var$sharedContext=$w95b$import$createCanvasContext2D(n,o);return $w95b$var$sharedContext.drawImage(a,0,0,n,o),$w95b$var$sharedContext.getImageData(0,0,n,o)}function $w95b$var$getLayerStatesArray(e){return e.map(function(e){return e.getLayerState()})}function $w95b$var$createLayers(e){for(var t=e.length,r=new Array(t),a=0;a<t;++a)r[a]=$w95b$var$createLayer(e[a]);return r}function $w95b$var$createLayer(e){var t;return e instanceof $w95b$import$Source?e instanceof $w95b$import$TileSource?t=new $w95b$import$TileLayer({source:e}):e instanceof $w95b$import$ImageSource&&(t=new $w95b$import$ImageLayer({source:e})):t=e,t}$w95b$exports.default=$w95b$export$default;"},"sourceMaps":null,"error":null,"hash":"c1d986c2ce98a70a57fc03e12d564f74","cacheData":{"env":{},"imports":{"$w95b$import$Disposable":["../Disposable.js","default"],"$w95b$import$Event":["../events/Event.js","default"],"$w95b$import$EventType":["../events/EventType.js","default"],"$w95b$import$ImageCanvas":["../ImageCanvas.js","default"],"$w95b$import$ImageLayer":["../layer/Image.js","default"],"$w95b$import$ImageSource":["./Image.js","default"],"$w95b$import$Source":["./Source.js","default"],"$w95b$import$SourceState":["./State.js","default"],"$w95b$import$TileLayer":["../layer/Tile.js","default"],"$w95b$import$TileQueue":["../TileQueue.js","default"],"$w95b$import$TileSource":["./Tile.js","default"],"$w95b$import$assign":["../obj.js","assign"],"$w95b$import$createCanvasContext2D":["../dom.js","createCanvasContext2D"],"$w95b$import$createTransform":["../transform.js","create"],"$w95b$import$equals":["../extent.js","equals"],"$w95b$import$getCenter":["../extent.js","getCenter"],"$w95b$import$getHeight":["../extent.js","getHeight"],"$w95b$import$getWidth":["../extent.js","getWidth"]},"exports":{"newImageData":"$w95b$export$newImageData","Processor":"$w95b$export$Processor","RasterSourceEvent":"$w95b$export$RasterSourceEvent","default":"$w95b$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}